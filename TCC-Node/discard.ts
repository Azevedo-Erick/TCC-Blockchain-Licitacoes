//const a= async () => {
//
//  const id =  await uploadFile(new File(["Hello, world!"], "hello.txt", { type: "text/plain" }));
//  if(id){
//  downloadFile(id);
//}
//}
//a()


const criarNovoLeilao = async (from: string) => {
    const contrato = new web3Instance.eth.Contract([
      {
        "inputs": [],
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [
          {
            "internalType": "string",
            "name": "_dono",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "_item",
            "type": "string"
          }
        ],
        "name": "cadastrarDonoEItem",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "dono",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "encerrarLeilao",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "_valor",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "_nome",
            "type": "string"
          }
        ],
        "name": "enviarLance",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "estado",
        "outputs": [
          {
            "internalType": "enum Leilao.EstadoLeilao",
            "name": "",
            "type": "uint8"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "finalizarLeilao",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "item",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "lanceMaisAlto",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "maiorLance",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "obterDadosLeilao",
        "outputs": [
          {
            "internalType": "enum Leilao.EstadoLeilao",
            "name": "",
            "type": "uint8"
          },
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ]);
  
        const deploy = contrato.deploy({
            data: "0x60806040523480156200001157600080fd5b5060008060006101000a81548160ff021916908360038111156200003a57620000396200008c565b5b02179055506040518060400160405280600381526020017f4e2f4100000000000000000000000000000000000000000000000000000000008152506001908162000085919062000335565b506200041c565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200013d57607f821691505b602082108103620001535762000152620000f5565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620001bd7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200017e565b620001c986836200017e565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b600062000216620002106200020a84620001e1565b620001eb565b620001e1565b9050919050565b6000819050919050565b6200023283620001f5565b6200024a62000241826200021d565b8484546200018b565b825550505050565b600090565b6200026162000252565b6200026e81848462000227565b505050565b5b8181101562000296576200028a60008262000257565b60018101905062000274565b5050565b601f821115620002e557620002af8162000159565b620002ba846200016e565b81016020851015620002ca578190505b620002e2620002d9856200016e565b83018262000273565b50505b505050565b600082821c905092915050565b60006200030a60001984600802620002ea565b1980831691505092915050565b6000620003258383620002f7565b9150826002028217905092915050565b6200034082620000bb565b67ffffffffffffffff8111156200035c576200035b620000c6565b5b62000368825462000124565b620003758282856200029a565b600060209050601f831160018114620003ad576000841562000398578287015190505b620003a4858262000317565b86555062000414565b601f198416620003bd8662000159565b60005b82811015620003e757848901518255600182019150602085019450602081019050620003c0565b8683101562000407578489015162000403601f891682620002f7565b8355505b6001600288020188555050505b505050505050565b61114b806200042c6000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c8063688e346711610066578063688e3467146101135780636db6817a1461013157806370514bea1461014d578063b43072d51461016b578063f2a4a82e146101895761009e565b806310a370e3146100a357806329e0c347146100ad5780632a10098d146100cb57806331fb6e05146100d5578063605dc3e3146100f7575b600080fd5b6100ab6101a7565b005b6100b5610247565b6040516100c291906108a2565b60405180910390f35b6100d36102d5565b005b6100dd610375565b6040516100ee959493929190610954565b60405180910390f35b610111600480360381019061010c9190610b31565b61054a565b005b61011b61061d565b6040516101289190610b8d565b60405180910390f35b61014b60048036038101906101469190610ba8565b61062e565b005b6101556106f0565b60405161016291906108a2565b60405180910390f35b61017361077e565b6040516101809190610c20565b60405180910390f35b610191610784565b60405161019e91906108a2565b60405180910390f35b600160038111156101bb576101ba6108c4565b5b60008054906101000a900460ff1660038111156101db576101da6108c4565b5b1461021b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161021290610c87565b60405180910390fd5b60026000806101000a81548160ff021916908360038111156102405761023f6108c4565b5b0217905550565b6004805461025490610cd6565b80601f016020809104026020016040519081016040528092919081815260200182805461028090610cd6565b80156102cd5780601f106102a2576101008083540402835291602001916102cd565b820191906000526020600020905b8154815290600101906020018083116102b057829003601f168201915b505050505081565b600260038111156102e9576102e86108c4565b5b60008054906101000a900460ff166003811115610309576103086108c4565b5b14610349576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161034090610d53565b60405180910390fd5b60036000806101000a81548160ff0219169083600381111561036e5761036d6108c4565b5b0217905550565b60006060806000606060008054906101000a900460ff166001600260035460048380546103a190610cd6565b80601f01602080910402602001604051908101604052809291908181526020018280546103cd90610cd6565b801561041a5780601f106103ef5761010080835404028352916020019161041a565b820191906000526020600020905b8154815290600101906020018083116103fd57829003601f168201915b5050505050935082805461042d90610cd6565b80601f016020809104026020016040519081016040528092919081815260200182805461045990610cd6565b80156104a65780601f1061047b576101008083540402835291602001916104a6565b820191906000526020600020905b81548152906001019060200180831161048957829003601f168201915b505050505092508080546104b990610cd6565b80601f01602080910402602001604051908101604052809291908181526020018280546104e590610cd6565b80156105325780601f1061050757610100808354040283529160200191610532565b820191906000526020600020905b81548152906001019060200180831161051557829003601f168201915b50505050509050945094509450945094509091929394565b6001600381111561055e5761055d6108c4565b5b60008054906101000a900460ff16600381111561057e5761057d6108c4565b5b146105be576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105b590610c87565b60405180910390fd5b6003548211610602576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105f990610de5565b60405180910390fd5b8160038190555080600490816106189190610fb1565b505050565b60008054906101000a900460ff1681565b60006003811115610642576106416108c4565b5b60008054906101000a900460ff166003811115610662576106616108c4565b5b146106a2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610699906110f5565b60405180910390fd5b81600190816106b19190610fb1565b5080600290816106c19190610fb1565b5060016000806101000a81548160ff021916908360038111156106e7576106e66108c4565b5b02179055505050565b600180546106fd90610cd6565b80601f016020809104026020016040519081016040528092919081815260200182805461072990610cd6565b80156107765780601f1061074b57610100808354040283529160200191610776565b820191906000526020600020905b81548152906001019060200180831161075957829003601f168201915b505050505081565b60035481565b6002805461079190610cd6565b80601f01602080910402602001604051908101604052809291908181526020018280546107bd90610cd6565b801561080a5780601f106107df5761010080835404028352916020019161080a565b820191906000526020600020905b8154815290600101906020018083116107ed57829003601f168201915b505050505081565b600081519050919050565b600082825260208201905092915050565b60005b8381101561084c578082015181840152602081019050610831565b60008484015250505050565b6000601f19601f8301169050919050565b600061087482610812565b61087e818561081d565b935061088e81856020860161082e565b61089781610858565b840191505092915050565b600060208201905081810360008301526108bc8184610869565b905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b60048110610904576109036108c4565b5b50565b6000819050610915826108f3565b919050565b600061092582610907565b9050919050565b6109358161091a565b82525050565b6000819050919050565b61094e8161093b565b82525050565b600060a082019050610969600083018861092c565b818103602083015261097b8187610869565b9050818103604083015261098f8186610869565b905061099e6060830185610945565b81810360808301526109b08184610869565b90509695505050505050565b6000604051905090565b600080fd5b600080fd5b6109d98161093b565b81146109e457600080fd5b50565b6000813590506109f6816109d0565b92915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610a3e82610858565b810181811067ffffffffffffffff82111715610a5d57610a5c610a06565b5b80604052505050565b6000610a706109bc565b9050610a7c8282610a35565b919050565b600067ffffffffffffffff821115610a9c57610a9b610a06565b5b610aa582610858565b9050602081019050919050565b82818337600083830152505050565b6000610ad4610acf84610a81565b610a66565b905082815260208101848484011115610af057610aef610a01565b5b610afb848285610ab2565b509392505050565b600082601f830112610b1857610b176109fc565b5b8135610b28848260208601610ac1565b91505092915050565b60008060408385031215610b4857610b476109c6565b5b6000610b56858286016109e7565b925050602083013567ffffffffffffffff811115610b7757610b766109cb565b5b610b8385828601610b03565b9150509250929050565b6000602082019050610ba2600083018461092c565b92915050565b60008060408385031215610bbf57610bbe6109c6565b5b600083013567ffffffffffffffff811115610bdd57610bdc6109cb565b5b610be985828601610b03565b925050602083013567ffffffffffffffff811115610c0a57610c096109cb565b5b610c1685828601610b03565b9150509250929050565b6000602082019050610c356000830184610945565b92915050565b7f4f206c65696c616f206e616f20657374612061626572746f0000000000000000600082015250565b6000610c7160188361081d565b9150610c7c82610c3b565b602082019050919050565b60006020820190508181036000830152610ca081610c64565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610cee57607f821691505b602082108103610d0157610d00610ca7565b5b50919050565b7f4f206c65696c616f206e616f206573746120656d20616e616c69736500000000600082015250565b6000610d3d601c8361081d565b9150610d4882610d07565b602082019050919050565b60006020820190508181036000830152610d6c81610d30565b9050919050565b7f4f206c616e6365207072656369736120736572206d61696f7220717565206f2060008201527f6c616e636520617475616c000000000000000000000000000000000000000000602082015250565b6000610dcf602b8361081d565b9150610dda82610d73565b604082019050919050565b60006020820190508181036000830152610dfe81610dc2565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610e677fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610e2a565b610e718683610e2a565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610eae610ea9610ea48461093b565b610e89565b61093b565b9050919050565b6000819050919050565b610ec883610e93565b610edc610ed482610eb5565b848454610e37565b825550505050565b600090565b610ef1610ee4565b610efc818484610ebf565b505050565b5b81811015610f2057610f15600082610ee9565b600181019050610f02565b5050565b601f821115610f6557610f3681610e05565b610f3f84610e1a565b81016020851015610f4e578190505b610f62610f5a85610e1a565b830182610f01565b50505b505050565b600082821c905092915050565b6000610f8860001984600802610f6a565b1980831691505092915050565b6000610fa18383610f77565b9150826002028217905092915050565b610fba82610812565b67ffffffffffffffff811115610fd357610fd2610a06565b5b610fdd8254610cd6565b610fe8828285610f24565b600060209050601f83116001811461101b5760008415611009578287015190505b6110138582610f95565b86555061107b565b601f19841661102986610e05565b60005b828110156110515784890151825560018201915060208501945060208101905061102c565b8683101561106e578489015161106a601f891682610f77565b8355505b6001600288020188555050505b505050505050565b7f4f206c65696c616f2064657665206573746172206e61206661736520696e696360008201527f69616c0000000000000000000000000000000000000000000000000000000000602082015250565b60006110df60238361081d565b91506110ea82611083565b604082019050919050565b6000602082019050818103600083015261110e816110d2565b905091905056fea26469706673582212204e72ee0c9c45f986cb84e897c76e57def4d1031699668673d8f7ddf5c18eb31864736f6c63430008180033",
            arguments: []
        }).encodeABI();
  
  
        let transactionObject = {
            gas: web3Instance.utils.toHex(3000000),
            gasPrice: web3Instance.utils.toHex(0),
            data: deploy,
            from: from
        };
  
  
        const rawTx = await assinarTransacao(transactionObject, "0x7ed1b7cceca45179a6131f784d492f8df55501645a01e920a508bb778bddcdb5");
        const transaction = await web3Instance.eth.sendSignedTransaction(rawTx);
        console.log('Contrato implantado com sucesso:', transaction);
        return transaction;
  }
  //criarNovoLeilao("0x069120633568672d2d63faf0631ea8acbb9b80eb");
  
  /* const dataInicio: number = Math.floor(new Date("2024-12-01T00:00:00Z").getTime() / 1000);
  const dataInicioCandidaturas: number = Math.floor(new Date("2024-12-10T00:00:00Z").getTime() / 1000);
  const dataFimCandidaturas: number = Math.floor(new Date("2024-12-20T00:00:00Z").getTime() / 1000);
  
  // Chamando a função com as datas convertidas
  criarLicitacao(
    "0x069120633568672d2d63faf0631ea8acbb9b80eb", // Endereço do remetente
    "Título da Licitação",
    "Descrição detalhada",
    "hashETP_example",
    "hashEdital_example",
    dataInicio,
    dataInicioCandidaturas,
    dataFimCandidaturas
  ); */